"use strict";(self.webpackChunknewproj=self.webpackChunknewproj||[]).push([[3990],{70659:(S,d,a)=>{a.d(d,{A:()=>p});var e=a(80403);const p={getAllCurrency:async()=>{try{return await(0,e.l1)("/omcommerce/currency/find",{method:"GET"})}catch(n){console.error(n)}},addCurrency:async n=>{try{return await(0,e.l1)("/omcommerce/currency/create",{method:"POST",body:JSON.parse(JSON.stringify(n))})}catch(i){console.error(i)}},editCurrency:async(n,i)=>{try{return await(0,e.l1)(`/omcommerce/currency/update/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.parse(JSON.stringify(i))})}catch(u){console.error(u)}}}},30462:(S,d,a)=>{a.d(d,{A:()=>p});var e=a(80403);const p={getAllPaypalSetups:async()=>{try{return await(0,e.l1)("/omcommerce/paypalsetup/find",{method:"GET"})}catch(n){throw n}},addPaypalSetup:async n=>{try{return await(0,e.l1)("/omcommerce/paypalsetup/create",{method:"POST",body:JSON.parse(JSON.stringify(n))})}catch(i){throw i}},editPaypalSetup:async(n,i)=>{try{return await(0,e.l1)(`/omcommerce/paypalsetup/update/${n}`,{method:"PUT",body:JSON.parse(JSON.stringify(i))})}catch(u){throw u}}}},73990:(S,d,a)=>{a.r(d),a.d(d,{default:()=>V});var e=a(92132),c=a(42455),p=a(4198),n=a(94061),i=a(30893),u=a(90151),o=a(68074),y=a(4181),m=a(76021),g=a(3036),h=a(7537),P=a(85963),s=a(21272),l=a(30462),C=a(48323),F=a(80403),E=a(70659);const J=JSON.parse('[{"label":"Australian dollar","value":"AUD"},{"label":"Brazilian real","value":"BRL"},{"label":"Canadian dollar","value":"CAD"},{"label":"Chinese Renmenbi","value":"CNY"},{"label":"Czech koruna","value":"CZK"},{"label":"Danish krone","value":"DKK"},{"label":"Euro","value":"EUR"},{"label":"Hong Kong dollar","value":"HKD"},{"label":"Hungarian forint","value":"HUF"},{"label":"Israeli new shekel","value":"ILS"},{"label":"Japanese yen","value":"JPY"},{"label":"Malaysian ringgit","value":"MYR"},{"label":"Mexican peso","value":"MXN"},{"label":"New Taiwan dollar","value":"TWD"},{"label":"New Zealand dollar","value":"NZD"},{"label":"Norwegian krone","value":"NOK"},{"label":"Philippine peso","value":"PHP"},{"label":"Polish z\u0142oty","value":"PLN"},{"label":"Pound sterling","value":"GBP"},{"label":"Singapore dollar","value":"SGD"},{"label":"Swedish krona","value":"SEK"},{"label":"Swiss franc","value":"CHF"},{"label":"Thai baht","value":"THB"},{"label":"United States dollar","value":"USD"}]');var H=a(20636);const k={id:0,currency:""},Y=()=>{const[T,R]=(0,s.useState)(!0),[X,O]=(0,s.useState)(!0),[N,x]=(0,s.useState)(k),[_,w]=(0,s.useState)(void 0),[A,G]=(0,s.useState)({}),[W,b]=(0,s.useState)(!1),D=J.map(r=>({value:r.value,label:`${r.label} (${r.value})`}));(0,s.useEffect)(()=>{L()},[]);const f=r=>{w(r),r!==void 0&&B({target:{name:"currency",value:r}})},B=r=>{const{name:v,value:$}=r.target;x({...N,[v]:$}),G({...A,[v]:""}),b(!1)},L=async()=>{try{const r=await E.A.getAllCurrency();r!==void 0&&(O(!1),x(r),w(r.currency))}catch(r){console.error("Error fetching data:",r)}finally{R(!1)}},I=async r=>{const v={};if(r.currency||(v.currency="Currency is required"),G(v),Object.keys(v).length>0){console.error("Please fill in all required fields");return}X?(b(!1),await E.A.addCurrency(r),O(!1)):(b(!1),await E.A.editCurrency(r.id,r)),await L()};return T?(0,e.jsx)(F.Bl,{}):(0,e.jsx)(c.P,{children:(0,e.jsxs)(p.s,{children:[W&&(0,e.jsx)(H.F,{closeLabel:"Close",onClose:()=>b(!1),title:"Error",variant:"danger",children:"Fill all required fields."}),(0,e.jsxs)(n.a,{padding:"3rem",background:"neutral0",borderRadius:"4px",style:{boxShadow:"rgba(3, 3, 5, 0.35) 1px 1px 10px"},children:[(0,e.jsx)(i.o,{variant:"beta",children:"Paypal currency"}),(0,e.jsx)(u.x,{gap:5,marginBottom:"2rem",children:(0,e.jsx)(o.E,{col:6,s:12,children:(0,e.jsxs)(n.a,{marginTop:"1rem",children:[(0,e.jsx)(C.Z,{label:"Currency",placeholder:"Select a currency",hint:"Currency used in paypal payment",onClear:()=>{f(void 0)},value:_,onChange:f,required:!0,children:D.map(r=>(0,e.jsx)(C.eY,{value:r.value,children:r.label},r.value))}),A.currency&&(0,e.jsx)(i.o,{textColor:"danger600",children:A.currency})]})})}),(0,e.jsx)(P.$,{size:"L",onClick:()=>I(N),variant:"secondary",children:"Save"})]})]})})},V=({handleSetSteps:T,st:R,steps:X,pp:O})=>{const N={id:1,live_paypal_client_id:"",live_paypal_client_secret:"",sandbox_paypal_client_id:"",sandbox_paypal_client_secret:"",live:!1,paypalSelected:!1,payProGlobalSelected:!1,paymentThreeSelected:!1},[x,_]=(0,s.useState)(N),[w,A]=(0,s.useState)(!0),[G,W]=(0,s.useState)(!0),[b,D]=(0,s.useState)("sandbox"),[f,B]=(0,s.useState)(!1),[L,I]=(0,s.useState)(!1),[r,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{$()},[]);const $=async()=>{G||W(!0);try{const t=await l.A.getAllPaypalSetups();R===1&&!t.paypalSelected&&T(z),_(t),B(t.paypalSelected),I(t.payProGlobalSelected),v(t.paymentThreeSelected),D(t.live===!0?"live":"sandbox"),A(!1),_(t),B(t.paypalSelected),I(t.payProGlobalSelected),v(t.paymentThreeSelected),D(t.live===!0?"live":"sandbox")}catch(t){console.error("Error fetching data:",t)}finally{W(!1)}},K=t=>{const{name:j,value:U}=t.target;_({...x,[j]:U})},Q=async t=>{const j={sandbox_paypal_client_id:t.sandbox_paypal_client_id?t.sandbox_paypal_client_id:void 0,sandbox_paypal_client_secret:t.sandbox_paypal_client_secret?t.sandbox_paypal_client_secret:void 0,live_paypal_client_id:t.live_paypal_client_id?t.live_paypal_client_id:void 0,live_paypal_client_secret:t.live_paypal_client_secret?t.live_paypal_client_secret:void 0,live:b!=="sandbox",paypalSelected:f,payProGlobalSelected:L,paymentThreeSelected:r};Object.keys(j).forEach(U=>j[U]===void 0&&delete j[U]),w?await l.A.addPaypalSetup(j):await l.A.editPaypalSetup(t.id,j),$()},q=["General","Payment","Shipping","Tax","Final"],z=["General","Payment","Final"];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(c.P,{children:(0,e.jsx)(p.s,{children:(0,e.jsxs)(n.a,{padding:"3rem",marginTop:"3rem",background:"neutral0",borderRadius:"4px",style:{boxShadow:"rgba(3, 3, 5, 0.35) 1px 1px 10px"},children:[(0,e.jsx)(i.o,{variant:"beta",children:"Select payment methods"}),(0,e.jsxs)(u.x,{gap:5,marginBottom:"2rem",children:[(0,e.jsx)(o.E,{col:12,children:(0,e.jsx)(n.a,{marginTop:"1rem",children:(0,e.jsxs)("ul",{children:[(0,e.jsx)("li",{children:(0,e.jsx)(y.S,{id:"paypalSelected",name:"paypalSelected",onValueChange:t=>{B(t),t&&R===1?(T(q),O(!0)):!t&&R===1&&(T(z),O(!1))},value:f,children:"Paypal"})}),(0,e.jsx)("li",{children:(0,e.jsx)(y.S,{id:"payProGlobalSelected",name:"payProGlobalSelected",onValueChange:t=>I(t),value:L,children:"Fast Spring"})}),(0,e.jsx)("li",{children:(0,e.jsx)(y.S,{id:"paymentThreeSelected",name:"paymentThreeSelected",onValueChange:t=>v(t),value:r,children:"Stripe"})})]})})}),f&&(0,e.jsxs)(e.Fragment,{children:[" ",(0,e.jsx)(o.E,{padding:1,col:8,children:(0,e.jsx)(n.a,{marginTop:"1rem",children:(0,e.jsxs)(m.z,{onChange:t=>D(t.target.value),value:b,name:"meal",children:[(0,e.jsx)(g.s,{value:"sandbox",children:"Sandbox"}),(0,e.jsx)(g.s,{value:"live",children:"Live"})]})})}),(0,e.jsx)(o.E,{col:6,s:12,children:(0,e.jsx)(n.a,{marginTop:"1rem",children:(0,e.jsx)(h.k,{name:"live_paypal_client_id",type:"password",value:x.live_paypal_client_id,onChange:K,fullWidth:!0,label:"Live paypal client id",hint:"Will be used when store goes live"})})}),(0,e.jsx)(o.E,{col:6,s:12,children:(0,e.jsx)(n.a,{marginTop:"1rem",children:(0,e.jsx)(h.k,{name:"live_paypal_client_secret",type:"password",value:x.live_paypal_client_secret,onChange:K,fullWidth:!0,label:"Live paypal client secret",hint:"Will be used when store goes live"})})}),(0,e.jsx)(o.E,{col:6,s:12,children:(0,e.jsx)(n.a,{marginTop:"1rem",children:(0,e.jsx)(h.k,{name:"sandbox_paypal_client_id",type:"password",value:x.sandbox_paypal_client_id,onChange:K,fullWidth:!0,label:"Sandbox paypal client id",hint:"Will be used when store is in sandbox mode"})})}),(0,e.jsx)(o.E,{col:6,s:12,children:(0,e.jsx)(n.a,{marginTop:"1rem",children:(0,e.jsx)(h.k,{name:"sandbox_paypal_client_secret",type:"password",value:x.sandbox_paypal_client_secret,onChange:K,fullWidth:!0,label:"Sandbox paypal client secret",hint:"Will be used when store is in sandbox mode"})})})]})]}),(0,e.jsx)(P.$,{onClick:()=>Q(x),variant:"secondary",children:"Save"})]})})}),f&&(0,e.jsx)(Y,{})]})}},76021:(S,d,a)=>{a.d(d,{z:()=>i});var e=a(92132),c=a(21272),p=a(15420);const n=(u,o)=>{const y=u.querySelectorAll(o);y&&y.length>0&&y.item(0).setAttribute("tabindex","0")},i=({children:u,labelledBy:o,onChange:y,value:m="",size:g="M",name:h,...P})=>{const s=(0,c.useRef)(null);(0,c.useLayoutEffect)(()=>{m||n(s.current,`[name="${h}"]`)},[m,h]);const l=(0,c.useMemo)(()=>({onChange:y,selected:m,name:h,size:g}),[h,y,g,m]);return(0,e.jsx)(p.r.Provider,{value:l,children:(0,e.jsx)("div",{ref:s,role:"radiogroup","aria-labelledby":o,...P,children:u})})}},15420:(S,d,a)=>{a.d(d,{r:()=>c});var e=a(21272);const c=(0,e.createContext)({onChange:void 0,name:"",size:"M",selected:""})},4198:(S,d,a)=>{a.d(d,{s:()=>p});var e=a(92132),c=a(94061);const p=({children:n})=>(0,e.jsx)(c.a,{paddingLeft:10,paddingRight:10,children:n})},42455:(S,d,a)=>{a.d(d,{P:()=>u});var e=a(92132),c=a(79793),p=a(94061);const n=(0,c.Ay)(p.a)`
  display: grid;
  grid-template-columns: ${({hasSideNav:o})=>o?"auto 1fr":"1fr"};
`,i=(0,c.Ay)(p.a)`
  overflow-x: hidden;
`,u=({sideNav:o,children:y})=>(0,e.jsxs)(n,{hasSideNav:Boolean(o),children:[o,(0,e.jsx)(i,{paddingBottom:10,children:y})]})},3036:(S,d,a)=>{a.d(d,{s:()=>s});var e=a(92132),c=a(21272),p=a(79793),n=a(15420);const i=l=>l==="M"?"18px":"20px",u=l=>l==="M"?"10px":"12px",o=()=>"3px";var y=a(84175);const m=p.Ay.input`
  margin: 0;
  padding: 0;
  background-color: ${({theme:l})=>l.colors.neutral0};
  border: 1px solid ${({theme:l})=>l.colors.primary600};
  border-radius: 50%;
  height: ${({size:l})=>typeof l=="number"?l:i(l)};
  width: ${({size:l})=>typeof l=="number"?l:i(l)};
  -webkit-appearance: none;

  &:after {
    border-radius: 50%;
    content: '';
    position: relative;
    z-index: 1;
    display: block;
    height: ${({size:l})=>typeof l=="number"?l:u(l)};
    width: ${({size:l})=>typeof l=="number"?l:u(l)};
    left: ${o};
    top: ${o};
  }

  &:checked:after {
    background: ${({theme:l})=>l.colors.primary600};
  }

  &:disabled {
    border: 1px solid ${({theme:l})=>l.colors.neutral300};
    background: ${({theme:l})=>l.colors.neutral200};
  }
`,g=c.forwardRef(({value:l,disabled:C=!1,...F},E)=>{const J=(0,y.B)(),{onChange:H,selected:k,name:Z,size:Y}=(0,c.useContext)(n.r),M=k===l;return(0,e.jsx)(m,{ref:E,type:"radio",name:Z,value:l,tabIndex:M?0:-1,"aria-checked":M,checked:M,disabled:C,id:J,size:Y,onChange:H,...F})});g.displayName="Radio";var h=a(83997),P=a(30893);const s=({children:l,...C})=>(0,e.jsxs)(h.s,{alignItems:"center",as:"label",gap:2,children:[(0,e.jsx)(g,{...C}),(0,e.jsx)(P.o,{textColor:"neutral800",children:l})]})}}]);
