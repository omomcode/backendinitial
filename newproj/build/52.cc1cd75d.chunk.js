(self.webpackChunknewproj=self.webpackChunknewproj||[]).push([[52],{54729:(M,p,t)=>{"use strict";t.d(p,{g:()=>g});var e=t(21272),n=t(80403),o=t(54894),m=t(74930);const g=(s={},f={})=>{const{id:l="",...i}=s,{get:r}=(0,n.ry)(),{locale:c}=(0,o.A)(),v=(0,n.QM)(c,{sensitivity:"base"}),{data:d,error:u,isError:a,isLoading:h,refetch:T}=(0,m.useQuery)(["roles",l,i],async()=>{const{data:O}=await r(`/admin/roles/${l??""}`,{params:i});return O},f);return{roles:e.useMemo(()=>{let O=[];return d&&(Array.isArray(d.data)?O=d.data:O=[d.data]),[...O].sort((C,W)=>v.compare(C.name,W.name))},[d,v]),error:u,isError:a,isLoading:h,refetch:T}}},55627:(M,p,t)=>{"use strict";t.d(p,{m:()=>g});var e=t(21272),n=t(80403),o=t(60256),m=t(74930);function g(){const{get:s}=(0,n.ry)(),{formatAPIError:f}=(0,n.wq)(),l=(0,n.hN)(),i=(0,m.useQueries)([{queryKey:["content-manager","components"],async queryFn(){const{data:{data:a}}=await s("/content-manager/components");return a},onError(a){a instanceof o.pe&&l({type:"warning",message:f(a)})}},{queryKey:["content-manager","content-types"],async queryFn(){const{data:{data:a}}=await s("/content-manager/content-types");return a},onError(a){a instanceof o.pe&&l({type:"warning",message:f(a)})}}]),[r,c]=i,v=r.isLoading||c.isLoading,d=e.useMemo(()=>(c?.data??[]).filter(a=>a.kind==="collectionType"&&a.isDisplayed),[c?.data]),u=e.useMemo(()=>(c?.data??[]).filter(a=>a.kind!=="collectionType"&&a.isDisplayed),[c?.data]);return{isLoading:v,components:e.useMemo(()=>r?.data??[],[r?.data]),collectionTypes:d,singleTypes:u}}},30127:(M,p,t)=>{"use strict";t.d(p,{N:()=>o});var e=t(21272),n=t(82437);function o(m,g){const s=(0,n.Pj)();(0,e.useEffect)(()=>{s.injectReducer(m,g)},[s,m,g])}},20022:(M,p,t)=>{"use strict";t.d(p,{b:()=>m});var e=t(21272),n=t(80403),o=t(74930);function m({enabled:g}={enabled:!0}){const{get:s}=(0,n.ry)(),{data:f,isError:l,isLoading:i}=(0,o.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:v}}=await s("/admin/license-limit-information");return v},{enabled:g}),r=e.useMemo(()=>f??{},[f]),c=e.useCallback(v=>(r?.features??[]).find(u=>u.name===v)?.options??{},[r?.features]);return{license:r,getFeature:c,isError:l,isLoading:i}}},45683:(M,p,t)=>{"use strict";t.d(p,{F6:()=>u,Io:()=>f,JU:()=>c,Ku:()=>g,Ll:()=>i,R5:()=>m,S0:()=>d,g1:()=>n,mF:()=>s,r0:()=>l,xO:()=>v,xY:()=>r,yX:()=>o});var e=t(11714);function n(a){return{type:e.YT,payload:{id:a}}}function o({workflow:a}){return{type:e.sT,payload:a}}function m({workflows:a}){return{type:e.T1,payload:a}}function g(a){return{type:e.U,payload:{stageId:a}}}function s(a={}){return{type:e.Cx,payload:a}}function f(a,h){return{type:e.Al,payload:{stageId:a,...h}}}function l(a){return{type:e.pq,payload:a}}function i(a,h){return{type:e.Ae,payload:{newIndex:h,oldIndex:a}}}function r(a){return{type:e.h$,payload:a}}function c(){return{type:e.fR}}function v(a){return{type:e.aM,payload:a}}function d(a){return{type:e.Yy,payload:a}}function u(a){return{type:e.iz,payload:a}}},89974:(M,p,t)=>{"use strict";t.d(p,{kc:()=>R,nh:()=>C,Y9:()=>S,bL:()=>W});var e=t(21272),n=t(42455),o=t(38413),m=t(4198),g=t(55356),s=t(80403),f=t(46270),l=t(54894),i=t(35099),r=t(11714),c=t(83997),v=t(30893),d=t(9005),u=t(33544),a=t.n(u),h=t(79793);const T=(0,h.Ay)(c.s)`
  svg path {
    fill: ${({theme:w})=>w.colors.neutral600};
  }
`;function D({name:w}){return e.createElement(c.s,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,s.a8)(300)},e.createElement(T,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},e.createElement(d.A,{width:`${8/16}rem`})),e.createElement(v.o,{fontWeight:"bold"},w))}D.propTypes={name:a().string.isRequired};function O({type:w,item:x}){switch(w){case r.TE.STAGE:return e.createElement(D,{...x});default:return null}}function C(){return e.createElement(i.M,{renderItem:O})}function W({children:w}){return e.createElement(n.P,null,e.createElement(o.g,{tabIndex:-1},e.createElement(m.s,null,w)))}function R({href:w}){const{formatMessage:x}=(0,l.A)();return e.createElement(s.N_,{startIcon:e.createElement(f.A,null),to:w},x({id:"global.back",defaultMessage:"Back"}))}function S({title:w,subtitle:x,navigationAction:P,primaryAction:B}){return e.createElement(e.Fragment,null,e.createElement(s.x7,{name:w}),e.createElement(g.Q,{navigationAction:P,primaryAction:B,title:w,subtitle:x}))}},59984:(M,p,t)=>{"use strict";t.d(p,{nB:()=>O,bL:()=>R,hE:()=>D});var e=t(21272),n=t(30893),o=t(83997),m=t(61485),g=t(6239),s=t(94061),f=t(88353),l=t(49654),i=t(68802),r=t(33544),c=t.n(r),v=t(54894),d=t(79793);const u=t.p+"0cd5f8915b265d5b1856.png",a="limits-title",h="https://strapi.io/pricing-cloud",T="https://strapi.io/contact-sales";function D({children:S}){return e.createElement(n.o,{variant:"alpha",id:a},S)}D.propTypes={children:c().node.isRequired};function O({children:S}){return e.createElement(n.o,{variant:"omega"},S)}O.propTypes={children:c().node.isRequired};function C(){const{formatMessage:S}=(0,v.A)();return e.createElement(o.s,{gap:2,paddingTop:4},e.createElement(l.z,{variant:"default",isExternal:!0,href:h},S({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),e.createElement(l.z,{variant:"tertiary",isExternal:!0,href:T},S({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const W=d.Ay.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:S})=>`-${S.spaces[7]}`};
  margin-top: ${({theme:S})=>`-${S.spaces[7]}`};
  width: 360px;
`;function R({children:S,isOpen:w,onClose:x}){const{formatMessage:P}=(0,v.A)();return w?e.createElement(m.k,{labelledBy:a},e.createElement(g.c,null,e.createElement(o.s,{gap:2,paddingLeft:7,position:"relative"},e.createElement(o.s,{alignItems:"start",direction:"column",gap:2,width:"60%"},S,e.createElement(C,null)),e.createElement(o.s,{justifyContent:"end",height:"100%",width:"40%"},e.createElement(W,{src:u,"aria-hidden":!0,alt:"",loading:"lazy"}),e.createElement(s.a,{display:"flex",position:"absolute",right:0,top:0},e.createElement(f.K,{icon:e.createElement(i.A,null),"aria-label":P({id:"global.close",defaultMessage:"Close"}),onClick:x})))))):null}R.defaultProps={isOpen:!1},R.propTypes={children:c().node.isRequired,isOpen:c().bool,onClose:c().func.isRequired}},45410:(M,p,t)=>{"use strict";t.d(p,{e:()=>ne});var e=t(21272),n=t(94061),o=t(83997),m=t(80403),g=t(33544),s=t.n(g),f=t(54894),l=t(82437),i=t(79793),r=t(45683),c=t(30893),v=t(43206);const d=(0,i.Ay)(v.A)`
  > circle {
    fill: ${({theme:E})=>E.colors.neutral150};
  }
  > path {
    fill: ${({theme:E})=>E.colors.neutral600};
  }
`,u=(0,i.Ay)(n.a)`
  border-radius: 26px;

  svg {
    height: ${({theme:E})=>E.spaces[6]};
    width: ${({theme:E})=>E.spaces[6]};

    > path {
      fill: ${({theme:E})=>E.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:E})=>E.colors.primary600} !important;
    ${c.o} {
      color: ${({theme:E})=>E.colors.primary600} !important;
    }

    ${d} {
      > circle {
        fill: ${({theme:E})=>E.colors.primary600};
      }
      > path {
        fill: ${({theme:E})=>E.colors.neutral100};
      }
    }
  }

  &:active {
    ${c.o} {
      color: ${({theme:E})=>E.colors.primary600};
    }

    ${d} {
      > circle {
        fill: ${({theme:E})=>E.colors.primary600};
      }
      > path {
        fill: ${({theme:E})=>E.colors.neutral100};
      }
    }
  }
`;function a({children:E,...K}){return e.createElement(u,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...K},e.createElement(o.s,{gap:2},e.createElement(d,{"aria-hidden":!0}),e.createElement(c.o,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},E)))}a.propTypes={children:s().node.isRequired};var h=t(56654),T=t(88353),D=t(98765),O=t(57237),C=t(60888),W=t(44604),R=t(90151),S=t(68074),w=t(7537),x=t(48323),P=t(5336),B=t(42106),z=t(85641),H=t(39116),$=t(90625),N=t(61535),Z=t(49005),J=t(99142),A=t(98342),k=t(11714),_=t(87953),b=t(30405);const X=(0,i.Ay)(h.fe)`
  padding-left: ${({theme:E})=>E.spaces[7]};
`,q=(0,i.Ay)(o.s)`
  > * {
    flex-grow: 1;
  }
`,Ee=(0,i.Ay)(P.Dr)`
  color: ${({theme:E})=>E.colors.danger600};
`,ve=(0,i.Ay)(B.l9)`
  :hover,
  :focus {
    background-color: ${({theme:E})=>E.colors.neutral100};
  }

  > span {
    font-size: 0;
  }
`,ye=(0,i.Ay)(T.K)`
  align-items: center;
  border-radius: ${({theme:E})=>E.borderRadius};
  display: flex;
  justify-content: center;

  :hover,
  :focus {
    background-color: ${({theme:E})=>E.colors.neutral100};
  }

  svg {
    height: auto;
    width: ${({theme:E})=>E.spaces[3]}};
  }
`,he=(0,b.M)();function we(){return e.createElement(n.a,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function ce({id:E,index:K,canDelete:F,canReorder:se,canUpdate:j,isOpen:re=!1,stagesCount:V}){const Q=y=>`${y+1} of ${V}`,ee=y=>{te(I({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:U.value,position:Q(y)}))},Te=y=>{te(I({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:U.value,position:Q(y)}))},Ae=()=>{te(I({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:U.value}))},Se=(y,L)=>{te(I({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:U.value,position:Q(y)})),G((0,r.Ll)(L,y))},Oe=()=>{ie(!0)},[de,te]=e.useState(null),{formatMessage:I}=(0,f.A)(),{trackUsage:Ce}=(0,m.z1)(),G=(0,l.wA)(),Re=(0,m.hN)(),[le,De]=e.useState(re),[xe,ie]=e.useState(!1),[U,ue,Ie]=(0,N.Mt)(`stages.${K}.name`),[ae,me,We]=(0,N.Mt)(`stages.${K}.color`),[Y,ge,Pe]=(0,N.Mt)(`stages.${K}.permissions`),Le=(0,l.d4)(_.y3),[{handlerId:be,isDragging:ke,handleKeyDown:Be},Ke,$e,je,pe]=(0,J.gY)(se,{index:K,item:{name:U.value},onGrabItem:ee,onDropItem:Te,onMoveItem:Se,onCancel:Ae,type:k.TE.STAGE}),Ne=(0,A.tE)(Ke,$e),Ue=he.map(({hex:y,name:L})=>({value:y,label:I({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:L}),color:y})),{themeColorName:Fe}=(0,b.w)(ae.value)??{},fe=Le.filter(y=>y.code!=="strapi-super-admin");return e.useEffect(()=>{pe((0,Z.n5)(),{captureDraggingState:!1})},[pe,K]),e.createElement(n.a,{ref:Ne},de&&e.createElement(D.s,{"aria-live":"assertive"},de),ke?e.createElement(we,null):e.createElement(O.n,{size:"S",variant:"primary",onToggle:()=>{De(!le),le||Ce("willEditStage")},expanded:le,shadow:"tableShadow",error:ue.error??me?.error??ge?.error??!1,hasErrorMessage:!1},e.createElement(C.P,{title:U.value,togglePosition:"left",action:(F||j)&&e.createElement(o.s,null,e.createElement(B.bL,null,e.createElement(ve,{size:"S",endIcon:null,paddingLeft:2,paddingRight:2},e.createElement(z.A,{"aria-hidden":!0,focusable:!1}),e.createElement(D.s,{as:"span"},I({id:"[tbdb].components.DynamicZone.more-actions",defaultMessage:"More actions"}))),e.createElement(B.UC,{popoverPlacement:"bottom-end",zIndex:2},e.createElement(B.x8,null,j&&e.createElement(P.Dr,{onClick:()=>G((0,r.g1)(E))},I({id:"Settings.review-workflows.stage.delete",defaultMessage:"Duplicate stage"})),F&&e.createElement(Ee,{onClick:()=>G((0,r.Ku)(E))},I({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete"}))))),j&&e.createElement(ye,{background:"transparent",forwardedAs:"div",hasRadius:!0,role:"button",noBorder:!0,tabIndex:0,"data-handler-id":be,ref:je,label:I({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:y=>y.stopPropagation(),onKeyDown:Be},e.createElement(H.A,null)))}),e.createElement(W.u,{padding:6,background:"neutral0",hasRadius:!0},e.createElement(R.x,{gap:4},e.createElement(S.E,{col:6},e.createElement(w.k,{...U,id:U.name,disabled:!j,label:I({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:ue.error??!1,onChange:y=>{Ie.setValue(y.target.value),G((0,r.Io)(E,{name:y.target.value}))},required:!0})),e.createElement(S.E,{col:6},e.createElement(x.Z,{disabled:!j,error:me?.error??!1,id:ae.name,required:!0,label:I({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:y=>{We.setValue(y),G((0,r.Io)(E,{color:y}))},value:ae.value.toUpperCase(),startIcon:e.createElement(o.s,{as:"span",height:2,background:ae.value,borderColor:Fe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},Ue.map(({value:y,label:L,color:oe})=>{const{themeColorName:Ge}=(0,b.w)(oe);return e.createElement(x.eY,{value:y,key:y,startIcon:e.createElement(o.s,{as:"span",height:2,background:oe,borderColor:Ge==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},L)}))),e.createElement(S.E,{col:6},fe.length===0?e.createElement(m.WT,{description:{id:"Settings.review-workflows.stage.permissions.noPermissions.description",defaultMessage:"You don\u2019t have the permission to see roles"},intlLabel:{id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"},name:Y.name}):e.createElement(o.s,{alignItems:"flex-end",gap:3},e.createElement(q,{grow:1},e.createElement(h.KF,{...Y,disabled:!j,error:ge.error??!1,id:Y.name,label:I({id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"}),onChange:y=>{const L=y.map(oe=>({role:parseInt(oe,10),action:"admin::review-workflows.stage.transition"}));Pe.setValue(L),G((0,r.Io)(E,{permissions:L}))},placeholder:I({id:"Settings.review-workflows.stage.permissions.placeholder",defaultMessage:"Select a role"}),required:!0,value:(Y.value??[]).map(y=>`${y.role}`),withTags:!0},[{label:I({id:"Settings.review-workflows.stage.permissions.allRoles.label",defaultMessage:"All roles"}),children:fe.map(y=>({value:`${y.id}`,label:y.name}))}].map(y=>"children"in y?e.createElement(h.np,{key:y.label,label:y.label,values:y.children.map(L=>L.value)},y.children.map(L=>e.createElement(X,{key:L.value,value:L.value},L.label))):e.createElement(h.fe,{key:y.value,value:y.value},y.label)))),e.createElement(T.K,{disabled:!j,icon:e.createElement($.A,null),label:I({id:"Settings.review-workflows.stage.permissions.apply.label",defaultMessage:"Apply to all stages"}),size:"L",variant:"secondary",onClick:()=>Oe(Y.value)})))))),e.createElement(m.TM.Root,{iconRightButton:null,isOpen:xe,onToggleDialog:()=>ie(!1),onConfirm:()=>{G((0,r.r0)({permissions:Y.value})),ie(!1),Re({type:"success",message:I({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy.success",defaultMessage:"Applied roles to all other stages of the workflow"})})},variantRightButton:"primary"},e.createElement(m.TM.Body,null,e.createElement(c.o,{textAlign:"center",variant:"omega"},I({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy",defaultMessage:"Roles that can change that stage will be applied to all the other stages."})))))}ce.propTypes=s().shape({id:s().number.isRequired,color:s().string.isRequired,canDelete:s().bool.isRequired,canReorder:s().bool.isRequired,canUpdate:s().bool.isRequired,stagesCount:s().number.isRequired}).isRequired;const Me=(0,i.Ay)(n.a)`
  transform: translateX(-50%);
`;function ne({canDelete:E,canUpdate:K,stages:F}){const{formatMessage:se}=(0,f.A)(),j=(0,l.wA)(),{trackUsage:re}=(0,m.z1)();return e.createElement(o.s,{direction:"column",gap:6,width:"100%"},e.createElement(n.a,{position:"relative",spacing:4,width:"100%"},e.createElement(Me,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),e.createElement(o.s,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},F.map((V,Q)=>{const ee=V?.id??V.__temp_key__;return e.createElement(n.a,{key:`stage-${ee}`,as:"li"},e.createElement(ce,{id:ee,index:Q,isOpen:!V.id,canDelete:F.length>1&&E,canReorder:F.length>1,canUpdate:K,stagesCount:F.length}))}))),K&&e.createElement(a,{type:"button",onClick:()=>{j((0,r.mF)({name:""})),re("willCreateStage")}},se({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}ne.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},ne.propTypes={canDelete:s().bool,canUpdate:s().bool,stages:s().arrayOf(s().shape({id:s().number,__temp_key__:s().number,name:s().string.isRequired}))}},42570:(M,p,t)=>{"use strict";t.d(p,{r:()=>D});var e=t(21272),n=t(56654),o=t(30893),m=t(90151),g=t(68074),s=t(7537),f=t(80403),l=t(61535),i=t(33544),r=t.n(i),c=t(54894),v=t(82437),d=t(79793),u=t(45683),a=t(87953);const h=(0,d.Ay)(n.fe)`
  padding-left: ${({theme:O})=>O.spaces[7]};
`,T=(0,d.Ay)(o.o)`
  font-style: italic;
`;function D({canUpdate:O}){const{formatMessage:C,locale:W}=(0,c.A)(),R=(0,v.wA)(),{collectionTypes:S,singleTypes:w}=(0,v.d4)(a.tn),x=(0,v.d4)(a.NJ),P=(0,v.d4)(a.Ze),[B,z,H]=(0,l.Mt)("name"),[$,N,Z]=(0,l.Mt)("contentTypes"),J=(0,f.QM)(W,{sensitivity:"base"});return e.createElement(m.x,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},e.createElement(g.E,{col:6},e.createElement(s.k,{...B,id:B.name,disabled:!O,label:C({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:z.error??!1,onChange:A=>{R((0,u.xY)({name:A.target.value})),H.setValue(A.target.value)},required:!0})),e.createElement(g.E,{col:6},e.createElement(n.KF,{...$,customizeContent:A=>C({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:A.length}),disabled:!O,error:N.error??!1,id:$.name,label:C({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:A=>{R((0,u.xY)({contentTypes:A})),Z.setValue(A)},placeholder:C({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...S.length>0?[{label:C({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:[...S].sort((A,k)=>J.compare(A.info.displayName,k.info.displayName)).map(A=>({label:A.info.displayName,value:A.uid}))}]:[],...w.length>0?[{label:C({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:[...w].map(A=>({label:A.info.displayName,value:A.uid}))}]:[]].map(A=>"children"in A?e.createElement(n.np,{key:A.label,label:A.label,values:A.children.map(k=>k.value.toString())},A.children.map(k=>{const{name:_}=P.find(b=>(x&&b.id!==x.id||!x)&&b.contentTypes.includes(k.value))??{};return e.createElement(h,{key:k.value,value:k.value},C({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:k.label,name:_,em:(...b)=>e.createElement(o.o,{as:"em",fontWeight:"bold"},b),i:(...b)=>e.createElement(T,null,b)}))})):e.createElement(n.fe,{key:A.value,value:A.value},A.label)))))}D.defaultProps={canUpdate:!0},D.propTypes={canUpdate:r().bool}},11714:(M,p,t)=>{"use strict";t.d(p,{Ae:()=>u,Al:()=>v,Cx:()=>r,Dp:()=>C,T1:()=>l,TE:()=>D,U:()=>i,YT:()=>c,Yy:()=>s,aM:()=>m,fR:()=>o,h$:()=>a,hH:()=>T,hK:()=>O,iz:()=>g,oA:()=>h,p6:()=>n,pq:()=>d,sT:()=>f});var e=t(57438);const n="settings_review-workflows",o="Settings/Review_Workflows/RESET_WORKFLOW",m="Settings/Review_Workflows/SET_CONTENT_TYPES",g="Settings/Review_Workflows/SET_IS_LOADING",s="Settings/Review_Workflows/SET_ROLES",f="Settings/Review_Workflows/SET_WORKFLOW",l="Settings/Review_Workflows/SET_WORKFLOWS",i="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",r="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",c="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",v="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",d="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",u="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",a="Settings/Review_Workflows/WORKFLOW_UPDATE",h={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},T=e._.colors.primary600,D={STAGE:"stage"},O="numberOfWorkflows",C="stagesPerWorkflow"},78101:(M,p,t)=>{"use strict";t.d(p,{W:()=>m});var e=t(21272),n=t(80403),o=t(74930);function m(g={}){const{get:s}=(0,n.ry)(),{id:f="",...l}=g,i={populate:"stages"},{data:r,isLoading:c,status:v,refetch:d}=(0,o.useQuery)(["review-workflows","workflows",f],async()=>(await s(`/admin/review-workflows/workflows/${f}`,{params:{...i,...l}})).data),u=e.useMemo(()=>f&&r?.data?[r.data]:Array.isArray(r?.data)?r.data:[],[r?.data,f]);return{meta:e.useMemo(()=>r?.meta??{},[r?.meta]),workflows:u,isLoading:c,status:v,refetch:d}}},18960:(M,p,t)=>{"use strict";t.d(p,{F:()=>m,u:()=>o});var e=t(88761),n=t(11714);const o={serverState:{contentTypes:{collectionTypes:[],singleTypes:[]},roles:[],workflow:null,workflows:[]},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[],permissions:void 0}},isLoading:!0}};function m(s=o,f){return(0,e.jM)(s,l=>{const{payload:i}=f;switch(f.type){case n.aM:{l.serverState.contentTypes=i;break}case n.iz:{l.clientState.isLoading=i;break}case n.Yy:{l.serverState.roles=i;break}case n.sT:{const r=i;r&&(l.serverState.workflow=r,l.clientState.currentWorkflow.data={...r,stages:r.stages.map(c=>({...c,color:c?.color??n.hH}))});break}case n.T1:{l.serverState.workflows=i;break}case n.fR:{l.clientState=o.clientState,l.serverState=o.serverState;break}case n.U:{const{stageId:r}=i,{currentWorkflow:c}=s.clientState;l.clientState.currentWorkflow.data.stages=c.data.stages.filter(v=>(v?.id??v.__temp_key__)!==r);break}case n.Cx:{const{currentWorkflow:r}=s.clientState;r.data||(l.clientState.currentWorkflow.data={stages:[]});const c=g(l.clientState.currentWorkflow.data.stages);l.clientState.currentWorkflow.data.stages.push({...i,color:i?.color??n.hH,__temp_key__:c});break}case n.YT:{const{currentWorkflow:r}=s.clientState,{id:c}=i,v=r.data.stages.findIndex(u=>(u?.id??u?.__temp_key__)===c),d=r.data.stages[v];l.clientState.currentWorkflow.data.stages.splice(v+1,0,{...d,id:void 0,__temp_key__:g(l.clientState.currentWorkflow.data.stages)});break}case n.Al:{const{currentWorkflow:r}=s.clientState,{stageId:c,...v}=i;l.clientState.currentWorkflow.data.stages=r.data.stages.map(d=>(d.id??d.__temp_key__)===c?{...d,...v}:d);break}case n.pq:{const{currentWorkflow:r}=s.clientState;l.clientState.currentWorkflow.data.stages=r.data.stages.map(c=>({...c,...i}));break}case n.Ae:{const{currentWorkflow:{data:{stages:r}}}=s.clientState,{newIndex:c,oldIndex:v}=i;if(c>=0&&c<r.length){const d=r[v];let u=[...r];u.splice(v,1),u.splice(c,0,d),l.clientState.currentWorkflow.data.stages=u}break}case n.h$:{l.clientState.currentWorkflow.data={...l.clientState.currentWorkflow.data,...i};break}default:break}})}const g=(s=[])=>{const f=s.map(l=>l.id??l.__temp_key__);return Math.max(...f,-1)+1}},87953:(M,p,t)=>{"use strict";t.d(p,{Di:()=>d,EJ:()=>c,Hc:()=>u,If:()=>v,NJ:()=>i,Ze:()=>r,tn:()=>f,y3:()=>l});var e=t(26924),n=t(56336),o=t.n(n),m=t(11714),g=t(18960);const s=a=>a[m.p6]??g.u,f=(0,e.Mz)(s,({serverState:{contentTypes:a}})=>a),l=(0,e.Mz)(s,({serverState:{roles:a}})=>a),i=(0,e.Mz)(s,({clientState:{currentWorkflow:a}})=>a.data),r=(0,e.Mz)(s,({serverState:{workflows:a}})=>a),c=(0,e.Mz)(s,({serverState:a,clientState:{currentWorkflow:h}})=>!o()(a.workflow,h.data)),v=(0,e.Mz)(s,({serverState:a,clientState:{currentWorkflow:h}})=>!(a.workflow?.stages??[]).every(T=>!!h.data.stages.find(({id:D})=>D===T.id))),d=(0,e.Mz)(s,({clientState:{isLoading:a}})=>a),u=(0,e.Mz)(s,({serverState:a})=>a)},30405:(M,p,t)=>{"use strict";t.d(p,{M:()=>m,w:()=>o});var e=t(57438),n=t(11714);function o(g){if(!g)return null;const f=Object.entries(e._.colors).filter(([,l])=>l.toUpperCase()===g.toUpperCase()).reduce((l,[i])=>(n.oA?.[i]&&(l=i),l),null);return f?{themeColorName:f,name:n.oA[f]}:null}function m(){return Object.entries(n.oA).map(([g,s])=>({hex:e._.colors[g].toUpperCase(),name:s}))}},41090:(M,p,t)=>{"use strict";t.d(p,{_:()=>m});var e=t(48940),n=t.n(e),o=t(12083);async function m({values:g,formatMessage:s}){const f=o.Ik({contentTypes:o.YO().of(o.Yj()),name:o.Yj().max(255,s({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:o.YO().of(o.Ik().shape({name:o.Yj().required(s({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,s({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",s({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(l){const{options:{context:i}}=this;return i.stages.filter(r=>r.name===l).length===1}),color:o.Yj().required(s({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i),permissions:o.YO(o.Ik({role:o.ai().strict().typeError(s({id:"Settings.review-workflows.validation.stage.permissions.role.number",defaultMessage:"Role must be of type number"})).required,action:o.Yj().required({id:"Settings.review-workflows.validation.stage.permissions.action.required",defaultMessage:"Action is a required argument"})})).strict()})).min(1)});try{return await f.validate(g,{abortEarly:!1,context:g}),!0}catch(l){let i={};return l instanceof o.yI&&l.inner.forEach(r=>{n()(i,r.path,r.message)}),i}}},84624:(M,p,t)=>{var e=t(81204),n=t(51646),o="[object Boolean]";function m(g){return g===!0||g===!1||n(g)&&e(g)==o}M.exports=m},54257:(M,p,t)=>{var e=t(16819);function n(o){return e(o)&&o!=+o}M.exports=n},16819:(M,p,t)=>{var e=t(81204),n=t(51646),o="[object Number]";function m(g){return typeof g=="number"||n(g)&&e(g)==o}M.exports=m},57237:(M,p,t)=>{"use strict";t.d(p,{I:()=>r,n:()=>v});var e=t(92132),n=t(21272),o=t(79793),m=t(97366),g=t(84175),s=t(30893),f=t(83997),l=t(94061);const i=({theme:d,expanded:u,variant:a,disabled:h,error:T})=>T?`1px solid ${d.colors.danger600} !important`:h?`1px solid ${d.colors.neutral150}`:u?`1px solid ${d.colors.primary600}`:a==="primary"?`1px solid ${d.colors.neutral0}`:`1px solid ${d.colors.neutral100}`,r=(0,o.Ay)(s.o)``,c=(0,o.Ay)(l.a)`
  border: ${i};

  &:hover:not([aria-disabled='true']) {
    border: 1px solid ${({theme:d})=>d.colors.primary600};

    ${r} {
      color: ${({theme:d,expanded:u})=>u?void 0:d.colors.primary700};
    }

    ${s.o} {
      color: ${({theme:d,expanded:u})=>u?void 0:d.colors.primary600};
    }

    & > ${f.s} {
      background: ${({theme:d})=>d.colors.primary100};
    }

    [data-strapi-dropdown='true'] {
      background: ${({theme:d})=>d.colors.primary200};
    }
  }
`,v=({children:d,disabled:u=!1,error:a,expanded:h=!1,hasErrorMessage:T=!0,id:D,onToggle:O,toggle:C,size:W="M",variant:R="primary",shadow:S})=>{const w=(0,g.B)(D),x=n.useMemo(()=>({expanded:h,onToggle:O,toggle:C,id:w,size:W,variant:R,disabled:u}),[u,h,w,O,W,C,R]);return(0,e.jsxs)(m.C.Provider,{value:x,children:[(0,e.jsx)(c,{"data-strapi-expanded":h,disabled:u,"aria-disabled":u,expanded:h,hasRadius:!0,variant:R,error:a,shadow:S,children:d}),a&&T&&(0,e.jsx)(l.a,{paddingTop:1,children:(0,e.jsx)(s.o,{variant:"pi",textColor:"danger600",children:a})})]})}},44604:(M,p,t)=>{"use strict";t.d(p,{u:()=>m});var e=t(92132),n=t(97366),o=t(94061);const m=({children:g,...s})=>{const{expanded:f,id:l}=(0,n.O)();if(!f)return null;const i=`accordion-content-${l}`,r=`accordion-label-${l}`,c=`accordion-desc-${l}`;return(0,e.jsx)(o.a,{role:"region",id:i,"aria-labelledby":r,"aria-describedby":c,...s,children:g})}},97366:(M,p,t)=>{"use strict";t.d(p,{C:()=>n,O:()=>o});var e=t(21272);const n=(0,e.createContext)({disabled:!1,expanded:!1,id:"",size:"M",variant:"primary"}),o=()=>(0,e.useContext)(n)},60888:(M,p,t)=>{"use strict";t.d(p,{P:()=>d});var e=t(92132),n=t(9005),o=t(79793),m=t(57237),g=t(97366);const s=({expanded:u,disabled:a,variant:h})=>{let T="neutral100";return u?T="primary100":a?T="neutral150":h==="primary"&&(T="neutral0"),T};var f=t(18629),l=t(58805),i=t(83997),r=t(30893);const c=(0,o.Ay)(f.Q)`
  text-align: left;

  // necessary to make the ellipsis prop work on the title
  > span {
    max-width: 100%;
  }

  svg {
    width: ${14/16}rem;
    height: ${14/16}rem;

    path {
      fill: ${({theme:u,expanded:a})=>a?u.colors.primary600:u.colors.neutral500};
    }
  }
`,v=(0,o.Ay)(i.s)`
  min-height: ${({theme:u,size:a})=>u.sizes.accordions[a]};
  border-radius: ${({theme:u,expanded:a})=>a?`${u.borderRadius} ${u.borderRadius} 0 0`:u.borderRadius};

  &:hover {
    svg {
      path {
        fill: ${({theme:u})=>u.colors.primary600};
      }
    }
  }
`,d=({title:u,description:a,as:h="span",togglePosition:T="right",action:D,...O})=>{const{onToggle:C,toggle:W,expanded:R,id:S,size:w,variant:x,disabled:P}=(0,g.O)(),B=`accordion-content-${S}`,z=`accordion-label-${S}`,H=`accordion-desc-${S}`,$=w==="M"?6:4,N=w==="M"?$:$-2,Z=s({expanded:R,disabled:P,variant:x}),A={as:h,fontWeight:w==="S"?"bold":void 0,id:z,textColor:R?"primary600":"neutral700",ellipsis:!0,variant:w==="M"?"delta":void 0},k=R?"primary600":"neutral600",_=R?"primary200":"neutral200",b=w==="M"?`${32/16}rem`:`${24/16}rem`,X=()=>{P||(W&&!C?(console.warn('Deprecation warning: Usage of "toggle" prop in Accordion component is deprecated. This is discouraged and will be removed in the next major release. Please use "onToggle" instead'),W()):C&&C())},q=(0,e.jsx)(i.s,{justifyContent:"center",borderRadius:"50%",height:b,width:b,transform:R?"rotate(180deg)":void 0,"data-strapi-dropdown":!0,"aria-hidden":!0,as:"span",background:_,cursor:P?"not-allowed":"pointer",onClick:X,shrink:0,children:(0,e.jsx)(l.I,{as:n.A,width:w==="M"?`${11/16}rem`:`${8/16}rem`,color:R?"primary600":"neutral600"})});return(0,e.jsx)(v,{paddingBottom:N,paddingLeft:$,paddingRight:$,paddingTop:N,background:Z,expanded:R,size:w,justifyContent:"space-between",cursor:P?"not-allowed":"",children:(0,e.jsxs)(i.s,{gap:3,flex:1,maxWidth:"100%",children:[T==="left"&&q,(0,e.jsx)(c,{onClick:X,"aria-disabled":P,"aria-expanded":R,"aria-controls":B,"aria-labelledby":z,"data-strapi-accordion-toggle":!0,expanded:R,type:"button",flex:1,minWidth:0,...O,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(m.I,{...A,children:u}),a&&(0,e.jsx)(r.o,{as:"p",id:H,textColor:k,children:a})]})}),T==="right"&&(0,e.jsxs)(i.s,{gap:3,children:[q,D]}),T==="left"&&D]})})}},46270:(M,p,t)=>{"use strict";t.d(p,{A:()=>o});var e=t(92132);const n=m=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...m,children:(0,e.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),o=n},39116:(M,p,t)=>{"use strict";t.d(p,{A:()=>o});var e=t(92132);const n=m=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...m,children:[(0,e.jsx)("path",{fill:"#212134",d:"M16.563 5.587a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 3.083c-.012.788-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574A1.943 1.943 0 0 1 14.9 2.11c.4-.684 1.2-1.066 1.981-.927a1.954 1.954 0 0 1 1.606 1.9c.011.748 1.17.748 1.158 0A3.138 3.138 0 0 0 17.565.17c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM16.563 14.372a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 11.867c-.012.789-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.968 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.675 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.005ZM16.563 23.392a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 20.89c-.012.787-.487 1.512-1.229 1.796a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.967 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM7.378 5.622a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 3.119c-.011.788-.486 1.512-1.228 1.796a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38.205c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.005ZM7.378 14.406a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 11.902c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38 8.988c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.674 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.006ZM7.378 23.427a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 20.924c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927.933.156 1.594.967 1.605 1.9.012.748 1.17.748 1.16 0A3.139 3.139 0 0 0 8.38 18.01c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.569.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.747-1.147-.747-1.159 0Z"})]}),o=n},85641:(M,p,t)=>{"use strict";t.d(p,{A:()=>o});var e=t(92132);const n=m=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...m,children:(0,e.jsx)("path",{fill:"#32324D",d:"M3.5 14.6a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Z"})}),o=n},43206:(M,p,t)=>{"use strict";t.d(p,{A:()=>o});var e=t(92132);const n=m=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...m,children:[(0,e.jsx)("circle",{cx:12,cy:12,r:12,fill:"#212134"}),(0,e.jsx)("path",{fill:"#F6F6F9",d:"M17 12.569c0 .124-.1.224-.225.224h-3.981v3.982c0 .124-.101.225-.226.225h-1.136a.225.225 0 0 1-.226-.225v-3.981H7.226A.225.225 0 0 1 7 12.567v-1.136c0-.125.1-.226.225-.226h3.982V7.226c0-.124.1-.225.224-.225h1.138c.124 0 .224.1.224.225v3.982h3.982c.124 0 .225.1.225.224v1.138Z"})]}),o=n},60256:(M,p,t)=>{"use strict";t.d(p,{pe:()=>o});var e=t(41629);const{Axios:n,AxiosError:o,CanceledError:m,isCancel:g,CancelToken:s,VERSION:f,all:l,Cancel:i,isAxiosError:r,spread:c,toFormData:v,AxiosHeaders:d,HttpStatusCode:u,formToJSON:a,getAdapter:h,mergeConfig:T}=e.A}}]);
